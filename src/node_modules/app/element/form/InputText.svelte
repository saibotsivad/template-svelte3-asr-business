<!--
If you specify a slot=help you can put HTML in your help text
otherwise if it's just plain text you can set it as an attribute
-->
<script>
	export let label = 'Input Text'
	export let help = ''
	export let value = ''
	export let valid = false

	const helpId = `help-${Math.random()}`
	const inputId = `input-${Math.random()}`
</script>

<style>
	div {
		position: relative;
		margin-top: 15px;
		margin-bottom: 45px;
		background-color: var(--color-success);
	}
	input {
		font-size: 18px;
		padding: 10px 10px 10px 5px;
		display: block;
		width: 100%;
		border: none;
		border-bottom: 1px solid #757575;
	}
	input:focus {
		outline: none;
	}

	/* label */
	label {
		font-size: 24px;
		font-weight: normal;
		position: absolute;
		pointer-events: none;
		left: 5px;
		top: 10px;
		transition: 0.2s ease all; 
		/* placeholder color */
		color: #999999;
	}
	input:focus ~ label, input.valid ~ label {
		top: -20px;
		font-size: 14px;
		/* label color */
		color: #5264AE;
	}

	/* bottom bar */
	.bar {
		position: relative;
		display: block;
		width: 100%;
	}
	.bar:before, .bar:after {
		content: '';
		height: 2px;
		width: 0;
		bottom: 1px;
		position: absolute;
		background: #5264AE;
		transition: 0.2s ease all;
	}
	.bar:before {
		left: 50%;
	}
	.bar:after {
		right: 50%; 
	}
	input:focus ~ .bar:before, input:focus ~ .bar:after {
		width: 50%;
	}
</style>

<div>
	<input
		type="text"
		id={inputId}
		aria-describedby={helpId}
		placeholder=""
		bind:value
		class:valid={valid || (value && value.length)}
	>
	<span class="bar"></span>
	<label for={inputId}>
		{label}
	</label>
</div>
