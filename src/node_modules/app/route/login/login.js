import Login from './Login.svelte'

export default ({ asr }) => {
	asr.addState({
		name: 'login',
		route: '/login',
		template: Login,
		/*

		In the login route, we attempt to do a fetch of the
		current user. If the user is authenticated, we can
		redirect to the default page.

		Additionally, if the user attempted to access some page
		which required authentication, they'll be kicked over
		to this login page, but with their originally desired
		location as query parameters. Once they log in, we can
		direct them back to wherever they were originally headed.

		*/
		resolve: async (data, parameters) => {
			return {
				name: 'world'
			}
		}
	})
}
